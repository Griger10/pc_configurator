<UserControl x:Class="PCConfigurator.UI.Views.ConfiguratorView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Заголовок -->
        <Border Grid.Row="0" Background="White" Padding="20,14"
                BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <TextBlock Text="Новая сборка" Style="{StaticResource PageTitleStyle}" />
        </Border>

        <!-- Форма -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="24" MaxWidth="560">

                <!-- Название конфигурации -->
                <TextBlock Text="Название конфигурации *" FontWeight="SemiBold" Margin="0,0,0,4" />
                <TextBox Text="{Binding ConfigName, UpdateSourceTrigger=PropertyChanged}"
                         Padding="8,6" Margin="0,0,0,16"
                         BorderBrush="#C0C0C8" BorderThickness="1" />

                <!-- Процессор -->
                <TextBlock Text="Процессор *" FontWeight="SemiBold" Margin="0,0,0,4" />
                <ComboBox ItemsSource="{Binding AvailableProcessors}"
                          SelectedItem="{Binding SelectedProcessor}"
                          Padding="8,6" Margin="0,0,0,16">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock>
                                <Run Text="{Binding Manufacturer.Name}" />
                                <Run Text=" " />
                                <Run Text="{Binding Model}" />
                                <Run Text=" (" />
                                <Run Text="{Binding Socket}" />
                                <Run Text=")" />
                            </TextBlock>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <!-- Материнская плата -->
                <TextBlock Text="Материнская плата *" FontWeight="SemiBold" Margin="0,0,0,4" />
                <ComboBox ItemsSource="{Binding AvailableMotherboards}"
                          SelectedItem="{Binding SelectedMotherboard}"
                          Padding="8,6" Margin="0,0,0,16">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock>
                                <Run Text="{Binding Manufacturer.Name}" />
                                <Run Text=" " />
                                <Run Text="{Binding Model}" />
                                <Run Text=" (" />
                                <Run Text="{Binding Socket}" />
                                <Run Text=")" />
                            </TextBlock>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <!-- Видеокарта (необязательно) -->
                <TextBlock Text="Видеокарта" FontWeight="SemiBold" Margin="0,0,0,4" />
                <ComboBox ItemsSource="{Binding AvailableGpus}"
                          SelectedItem="{Binding SelectedGpu}"
                          Padding="8,6" Margin="0,0,0,16">
                    <ComboBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock>
                                <Run Text="{Binding Manufacturer.Name}" />
                                <Run Text=" " />
                                <Run Text="{Binding Model}" />
                                <Run Text=" (" />
                                <Run Text="{Binding Memory}" />
                                <Run Text=" ГБ)" />
                            </TextBlock>
                        </DataTemplate>
                    </ComboBox.ItemTemplate>
                </ComboBox>

                <!-- Оперативная память (необязательно) -->
                <TextBlock Text="Оперативная память" FontWeight="SemiBold" Margin="0,0,0,4" />
                <Grid Margin="0,0,0,4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="60" />
                    </Grid.ColumnDefinitions>
                    <ComboBox Grid.Column="0"
                              ItemsSource="{Binding AvailableRams}"
                              SelectedItem="{Binding SelectedRam}"
                              Padding="8,6">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock>
                                    <Run Text="{Binding Manufacturer.Name}" />
                                    <Run Text=" " />
                                    <Run Text="{Binding Model}" />
                                    <Run Text=" (" />
                                    <Run Text="{Binding Capacity}" />
                                    <Run Text=" ГБ " />
                                    <Run Text="{Binding Type}" />
                                    <Run Text=")" />
                                </TextBlock>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <TextBlock Grid.Column="1" Text="Кол-во:" VerticalAlignment="Center" Margin="8,0,6,0" Foreground="#555" />
                    <TextBox Grid.Column="2"
                             Text="{Binding RamQuantity, UpdateSourceTrigger=PropertyChanged}"
                             Padding="8,6" BorderBrush="#C0C0C8" BorderThickness="1" />
                </Grid>

                <!-- Накопитель (необязательно) -->
                <TextBlock Text="Накопитель" FontWeight="SemiBold" Margin="0,8,0,4" />
                <Grid Margin="0,0,0,24">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="60" />
                    </Grid.ColumnDefinitions>
                    <ComboBox Grid.Column="0"
                              ItemsSource="{Binding AvailableStorages}"
                              SelectedItem="{Binding SelectedStorage}"
                              Padding="8,6">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock>
                                    <Run Text="{Binding Manufacturer.Name}" />
                                    <Run Text=" " />
                                    <Run Text="{Binding Model}" />
                                    <Run Text=" (" />
                                    <Run Text="{Binding Capacity}" />
                                    <Run Text=" ГБ " />
                                    <Run Text="{Binding Type}" />
                                    <Run Text=")" />
                                </TextBlock>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <TextBlock Grid.Column="1" Text="Кол-во:" VerticalAlignment="Center" Margin="8,0,6,0" Foreground="#555" />
                    <TextBox Grid.Column="2"
                             Text="{Binding StorageQuantity, UpdateSourceTrigger=PropertyChanged}"
                             Padding="8,6" BorderBrush="#C0C0C8" BorderThickness="1" />
                </Grid>

                <!-- Кнопки -->
                <StackPanel Orientation="Horizontal">
                    <Button Content="Сохранить конфигурацию"
                            Command="{Binding SaveCommand}"
                            Style="{StaticResource ActionButtonStyle}"
                            Padding="20,10" Margin="0,0,12,0" />
                    <Button Content="Сбросить"
                            Command="{Binding ResetCommand}"
                            Padding="16,10"
                            Background="#E0E0E8" Foreground="#333"
                            BorderThickness="0" Cursor="Hand" />
                </StackPanel>

                <!-- Статусное сообщение -->
                <TextBlock Text="{Binding StatusMessage}"
                           Margin="0,14,0,0"
                           FontStyle="Italic"
                           TextWrapping="Wrap">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Foreground" Value="#2E7D32" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsError}" Value="True">
                                    <Setter Property="Foreground" Value="#C62828" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
